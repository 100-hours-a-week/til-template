# ğŸ“š Today I Learn

## ë‚ ì§œ: 2025-01-23

### ìƒˆë¡œ ë°°ìš´ ë‚´ìš©

# ë©€í‹°ìŠ¤ë ˆë“œ

### í•˜ë“œì›¨ì–´ : CPU(Central Processing Unit)

- 1ì½”ì–´ : í•œ ë²ˆì— í•œ ì‹œì ì— í•œ ê°€ì§€ ì¼ë§Œ í•  ìˆ˜ ìˆë‹¤.
- 1ì½”ì–´ì— ì—¬ëŸ¬ê°œì˜ ìŠ¤ë ˆë“œ ê°€ëŠ¥
- A program ( process) â†’ B program(process) â†’ heavyweight context switching
- A thread â†’ B thread â†’ lightweight c s

### OS : ìš´ì˜ì²´ê³„(SW)

- Unix(Linux and macOS)
- process : í”„ë¡œê·¸ë¨(program)ì˜ ì‹¤í–‰ ë‹¨ìœ„
- thread : í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ ì•ˆì— ì†í•œ ë¶€ì† í”„ë¡œê·¸ë¨(subprogram)
- Naver CIC : Company in Company
- activity monitor : í™œì„± ìƒíƒœ ë³´ê¸°

ğŸ’¡OSëŠ” ë°˜ë“œì‹œ ì œëŒ€ë¡œ ê³µë¶€í•˜ë¼!

- RISC : ëª…ë ¹ ì¢…ë¥˜ìˆ˜ê°€ ì ë‹¤ vs CISC : ëª…ë ¹ ì¢…ë¥˜ìˆ˜ê°€ ë§ë‹¤

## ë©€í‹°ìŠ¤ë ˆë“œ

- Multithreading(multiple threads) vs Multiprocessing(multiple processes)
- thread(sub) vs process(main)
- concurrent execution(ë™ì‹œ ì‹¤í–‰) vs parallel execution(ë³‘ë ¬ ì‹¤í–‰)
- í”„ë¡œì„¸ìŠ¤ê°„ì—ëŠ” ë©”ëª¨ë¦¬ ê³µìœ  í•˜ì§€ X. ê°ì ë…ë¦½ ë©”ëª¨ë¦¬ ì‚¬ìš©
- ìŠ¤ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ë¥¼ (ì„œë¡œ) ê³µìœ 
- ë™ì‹œ ì‹¤í–‰: í•œ í”„ë¡œì„¸ìŠ¤ì— ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒ
- ë³‘ë ¬ ì‹¤í–‰ : ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ê²ƒ
- ë©€í‹°ìŠ¤ë ˆë”© : I/O â†’ CPU ë°”ê¹¥ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì‘ì—…ì´ ë§ì´ ì¼ì–´ë‚  ë•Œ ì‹¤í–‰(ex. í‚¤ë³´ë“œ, ë©”ëª¨ë¦¬, ë„¤íŠ¸ì›Œí‚¹(í†µì‹ ))
- ë©€í‹°í”„ë¡œì„¸ì‹± : CPU ì•ˆì—ì„œ ì¼ì–´ë‚˜ëŠ” ì‘ì—…ì´ ë§ì„ ë•Œ ì‹¤í–‰(ex. ê³„ì‚°)

### ë©€í‹°ìŠ¤ë ˆë“œ python ì˜ˆì œì½”ë“œ

- concurrent.features

```python
import time
from concurrent.features import ThreadPoolExecutor

def print_sum(num1, num2):
  time.sleep(3)
  print(num1 + num2, time.ctime())

def main():
  with ThreadPoolExecutor(max_workers=3) as executor:
    executor.submit(print_sum, 1, 2) # print_sumë„ í•¨ìˆ˜ì„
    executor.submit(print_sum, 2, 3)
    executor.submit(print_sum, 3, 4)
    
  print("done!")

main()
```

- ê³ ì°¨ í•¨ìˆ˜ = ê³ ê°œë„ í•¨ìˆ˜ : íŒŒì´ì¬ í•¨ìˆ˜ê°€ í¼ìŠ¤íŠ¸ í´ë˜ìŠ¤(í•¨ìˆ˜ì˜ ì¸ìˆ˜ê°€ í•¨ìˆ˜ë¡œ ì „ë‹¬ë˜ê±°ë‚˜ ë°˜í™˜ê°’ì´ í•¨ìˆ˜ì¸ ê²½ìš°)

- multithreading

```python
import threading
import time

def main2():
  thread1 = threading.Thread(target=print_sum, args=(1, 2))
  thread1 = threading.Thread(target=print_sum, args=(2, 3))
  thread1 = threading.Thread(target=print_sum, args=(3, 4))
  
  thread1.start()
  thread2.start()
  thread3.start()
  
  time.sleep(4) # ì—†ìœ¼ë©´ doneì´ ë‚˜ì˜¤ë©´ì„œ ì…€ì˜ ì‹¤í–‰ì´ ì¢…ë£Œëœ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ì—¬ ì¶œë ¥ë˜ì§€ ì•ŠìŒ

  print("done")

main2()
```

- ë…¸íŠ¸ë¶ì˜ ì…€ì˜ ì‹¤í–‰ ìŠ¤ë ˆë“œëŠ” ë©”ì¼ ìŠ¤ë ˆë“œê°€ ì•„ë‹ˆì–´ì„œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œë“¤ì˜ ì‹¤í–‰ ì¢…ë£Œë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•ŠìŒ. ë°˜ë©´, ë…ë¦½ í”„ë¡œì„¸ìŠ¤ë¡œ ì‹¤í–‰í•˜ëŠ” ê²½ìš° ë©”ì¸ ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— ì„œë¸ŒìŠ¤ë ˆë“œë“¤ì´ ë‹¤ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ë¯€ë¡œ ì¤‘ê°„ sleepì€ í•„ìš” ì—†ìŒ

```python
import threading
import time

def main3():
  thread1 = threading.Thread(target=print_sum, args=(1, 2))
  thread1 = threading.Thread(target=print_sum, args=(2, 3))
  thread1 = threading.Thread(target=print_sum, args=(3, 4))
  
  thread1.start()
  thread2.start()
  thread3.start()
  
  main_thread = threading.currentThread()
  for thread in threading.enumerate(): # í˜„ì¬ í”„ë¡œì„¸ìŠ¤ì˜ ìŠ¤ë ˆë“œë¥¼ ë‹¤ ê°€ì§€ê³  ì˜´ 
    if thread is main_thread:
      continue
      
    thread.join() # ê° ìŠ¤ë ˆë“œë¥¼ joinë©”ë‰´ì–¼ë¡œ ê¸°ë‹¤ë¦¬ê²Œ í•¨
    print(thread.name, thread.is_alive)
    
  print("done")
  
  for thread in threading.enumarate():
    print(thread.name, thread.is_alive())

main3()
```

- multiprocess

```python
from concurrent.futures import ProcessPoolExecutor

def main4():
  with ProcessPoolExecutor(max_workers=3) as executor:
    executor.submit(print_sum, 1, 2)
    executor.submit(print_sum, 2, 3)
    executor.submit(print_sum, 3, 4)
    
    print("done")
    
main4()
```
